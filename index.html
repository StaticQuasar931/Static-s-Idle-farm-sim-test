<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamagotchi Game v1.2</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            text-align: center;
            background: linear-gradient(to bottom, #e0f7fa, #80deea);
            margin: 0;
            padding: 0;
            transition: background-color 0.5s ease, color 0.5s ease;
        }
        .game-container {
            max-width: 900px;
            margin: 30px auto;
            padding: 20px;
            background: #ffffff;
            border: 2px solid #000;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #00796b;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }
        .credits {
            font-size: 1em;
            margin-bottom: 15px;
        }
        .credits a {
            color: #00796b;
            font-weight: bold;
            text-decoration: none;
        }
        .credits a:hover {
            text-decoration: underline;
        }
        #tamagotchi {
            font-size: 120px;
            margin: 20px 0;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }
        .stats {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin: 20px auto;
        }
        .stats div {
            width: 140px;
            margin: 10px;
        }
        .stat-bar {
            background: #ddd;
            border-radius: 10px;
            height: 15px;
            overflow: hidden;
            position: relative;
        }
        .bar-fill {
            height: 100%;
            background: #4caf50;
            transition: width 0.3s ease-in-out;
        }
        button {
            padding: 12px 18px;
            font-size: 1em;
            margin: 8px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background: #00796b;
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: background 0.3s, transform 0.2s ease;
        }
        button:hover {
            background: #005b4f;
            transform: translateY(-2px);
        }
        .menu {
            background: #ffffff;
            border: 2px solid #00796b;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            max-width: 400px;
            margin: 20px auto;
            padding: 15px;
            display: none;
        }
        .message {
            font-size: 1.2em;
            color: #333;
            margin-top: 15px;
            font-weight: bold;
        }
        .footer {
            margin-top: 20px;
            font-size: 0.9em;
        }
        .footer a {
            color: #00796b;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .version {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 0.8em;
            color: gray;
        }
    </style>
</head>
<body>
    <div class="credits">
        <a href="https://sites.google.com/view/staticquasar931" target="_blank">
            Made by Static Inspired by Colt
        </a>
    </div>
    <div class="game-container">
        <h1>Tamagotchi Game</h1>
        <div id="tamagotchi">üê£</div>
        <p>Stage: <span id="stage">Baby</span></p>
        <div class="stats">
            <div>
                Hunger
                <div class="stat-bar">
                    <div id="hunger-bar" class="bar-fill"></div>
                </div>
            </div>
            <div>
                Happiness
                <div class="stat-bar">
                    <div id="happiness-bar" class="bar-fill"></div>
                </div>
            </div>
            <div>
                Discipline
                <div class="stat-bar">
                    <div id="discipline-bar" class="bar-fill"></div>
                </div>
            </div>
            <div>
                Health
                <div class="stat-bar">
                    <div id="health-bar" class="bar-fill"></div>
                </div>
            </div>
            <div>
                Hygiene
                <div class="stat-bar">
                    <div id="hygiene-bar" class="bar-fill"></div>
                </div>
            </div>
        </div>
        <div>
            <button onclick="feed()">Feed</button>
            <button onclick="heal()">Heal</button>
            <button onclick="rest()">Rest</button>
            <button onclick="clean()">Clean</button>
            <button onclick="toggleDarkMode()">Dark Mode</button>
            <button onclick="openMenu()">Menu</button>
            <button onclick="resetGame()">Restart</button>
        </div>
        <p class="message" id="message"></p>
    </div>
    <div class="menu" id="menu">
        <h2>Menu</h2>
        <p>Choose an action or mini-game to play!</p>
        <button onclick="startGuessNumberGame()">Guess the Number</button>
        <button onclick="startMemoryGame()">Memory Game</button>
        <button onclick="startClickerGame()">Clicker Game</button>
        <button onclick="saveGame()">Save Game</button>
        <button onclick="loadGame()">Load Game</button>
        <button onclick="closeMenu()">Close Menu</button>
    </div>
    <div class="footer">
        <p>
            Made by <a href="https://sites.google.com/view/staticquasar931" target="_blank">Static</a>.
            Inspired by <a href="https://sites.google.com/view/staticquasar931" target="_blank">Colt</a>.
        </p>
    </div>
    <div class="version">Version 1.2</div>
    <script>
        // Game logic with fully functional main game and mini-games

        // Game state
        const stats = JSON.parse(localStorage.getItem("tamagotchiState")) || {
            hunger: 100,
            happiness: 100,
            discipline: 100,
            health: 100,
            hygiene: 100,
            age: 0,
            stage: "Baby",
        };

        const stages = [
            { name: "Baby", emoji: "üê£", age: 0 },
            { name: "Child", emoji: "üê•", age: 5 },
            { name: "Teen", emoji: "üê§", age: 10 },
            { name: "Adult", emoji: "üêî", age: 20 },
        ];

        const tamagotchiElem = document.getElementById("tamagotchi");
        const stageElem = document.getElementById("stage");
        const messageElem = document.getElementById("message");

        const bars = {
            hunger: document.getElementById("hunger-bar"),
            happiness: document.getElementById("happiness-bar"),
            discipline: document.getElementById("discipline-bar"),
            health: document.getElementById("health-bar"),
            hygiene: document.getElementById("hygiene-bar"),
        };

        function updateBars() {
            for (let key in bars) {
                bars[key].style.width = `${stats[key]}%`;
                bars[key].style.backgroundColor =
                    stats[key] > 50 ? "#4caf50" : stats[key] > 25 ? "#ffeb3b" : "#f44336";
            }
        }

        function evolve() {
            const nextStage = stages.find((s) => stats.age >= s.age && stats.stage !== s.name);
            if (nextStage) {
                stats.stage = nextStage.name;
                tamagotchiElem.textContent = nextStage.emoji;
                stageElem.textContent = stats.stage;
                messageElem.textContent = `Your Tamagotchi evolved into a ${stats.stage}!`;
            }
        }

        function saveGame() {
            localStorage.setItem("tamagotchiState", JSON.stringify(stats));
            messageElem.textContent = "Game progress saved!";
        }

        function loadGame() {
            const savedState = JSON.parse(localStorage.getItem("tamagotchiState"));
            if (savedState) {
                Object.assign(stats, savedState);
                updateBars();
                evolve();
                messageElem.textContent = "Game progress loaded!";
            } else {
                messageElem.textContent = "No saved progress found!";
            }
        }

        function resetGame() {
            if (confirm("Are you sure you want to restart the game?")) {
                Object.assign(stats, {
                    hunger: 100,
                    happiness: 100,
                    discipline: 100,
                    health: 100,
                    hygiene: 100,
                    age: 0,
                    stage: "Baby",
                });
                updateBars();
                evolve();
                messageElem.textContent = "Game restarted!";
            }
        }

        // Mini-games
        function startGuessNumberGame() {
            const number = Math.floor(Math.random() * 10) + 1;
            let guess = null;
            let attempts = 0;

            while (guess !== number) {
                guess = parseInt(prompt("Guess a number between 1 and 10:"), 10);
                if (isNaN(guess)) {
                    alert("Please enter a valid number.");
                    continue;
                }
                attempts++;
                if (guess === number) {
                    alert(`Correct! It took you ${attempts} attempts.`);
                    stats.happiness = Math.min(100, stats.happiness + 15);
                    updateBars();
                    break;
                } else if (guess > number) {
                    alert("Too high! Try again.");
                } else {
                    alert("Too low! Try again.");
                }
            }
        }

        function startMemoryGame() {
            let sequence = [];
            let userSequence = [];
            let level = 1;

            function generateSequence() {
                sequence.push(Math.floor(Math.random() * 4));
            }

            function showSequence() {
                alert(`Sequence: ${sequence.join(", ")}`);
            }

            function getUserSequence() {
                const input = prompt("Repeat the sequence (comma-separated numbers):");
                userSequence = input.split(",").map(Number);
            }

            while (true) {
                generateSequence();
                showSequence();
                getUserSequence();

                if (JSON.stringify(userSequence) === JSON.stringify(sequence)) {
                    alert("Correct!");
                    stats.discipline = Math.min(100, stats.discipline + 10);
                    level++;
                    updateBars();
                } else {
                    alert("Incorrect! Game over.");
                    break;
                }
            }
        }

        function startClickerGame() {
            let score = 0;
            const duration = 5000; // 5 seconds
            const startTime = Date.now();

            function clickHandler() {
                if (Date.now() - startTime < duration) {
                    score++;
                    messageElem.textContent = `Score: ${score}`;
                } else {
                    document.removeEventListener("click", clickHandler);
                    alert(`Time's up! Your score: ${score}`);
                    stats.happiness = Math.min(100, stats.happiness + score);
                    updateBars();
                }
            }

            alert("Click as fast as you can! You have 5 seconds.");
            document.addEventListener("click", clickHandler);
        }

        function toggleDarkMode() {
            document.body.classList.toggle("dark-mode");
        }

        function openMenu() {
            document.getElementById("menu").style.display = "block";
        }

        function closeMenu() {
            document.getElementById("menu").style.display = "none";
        }

        setInterval(() => {
            stats.hunger = Math.max(0, stats.hunger - 2);
            stats.happiness = Math.max(0, stats.happiness - 1);
            stats.hygiene = Math.max(0, stats.hygiene - 1);
            stats.age += 0.05;
            evolve();
            updateBars();
        }, 5000);

        // Initialize game
        updateBars();
    </script>
</body>
</html>
